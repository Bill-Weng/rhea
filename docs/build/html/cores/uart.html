<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>uart &mdash; rhea 0.1pre documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1pre',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="rhea 0.1pre documentation" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">rhea 0.1pre documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="uart">
<h1>uart<a class="headerlink" href="#uart" title="Permalink to this headline">Â¶</a></h1>
<p>The myHDL implementation of the  Universal Asynchronous
Receiver/ Transmitter module
, which is a standard serial communication module between
devices. Uses a FIFOBus interface to communicate with other modules
externally and also to communicate with other devices. The baudwith
of the module can be set by setting the baudwidth parameter. UART
reads bit-wise starting on a low signal after which a fixed length
(baudwidth) no of bits can be read, after which the stop high
signal is received(transmitted).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rhea.cores.uart</span> <span class="kn">import</span> <span class="n">uartlite</span>
<span class="kn">from</span> <span class="nn">rhea.system</span> <span class="kn">import</span> <span class="n">FIFOBus</span>

<span class="c"># ...</span>
<span class="c"># fpgalink interface</span>
<span class="c"># si - serial in, so - serial out line</span>
<span class="n">fifobu</span> <span class="o">=</span> <span class="n">FIFOBus</span><span class="p">()</span>
<span class="n">uart_inst</span> <span class="o">=</span> <span class="n">uartlite</span><span class="p">(</span><span class="n">glbl</span><span class="p">,</span> <span class="n">fifobus</span><span class="p">,</span> <span class="n">si</span><span class="p">,</span> <span class="n">so</span><span class="p">)</span>

<span class="c">#comp is another core component or module</span>
<span class="n">comp</span> <span class="o">=</span> <span class="n">comp_inst</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="nd">@always_comb</span>
<span class="k">def</span> <span class="nf">sync_read</span><span class="p">()</span>
    <span class="n">comp</span><span class="o">.</span><span class="n">read_line</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">fifobus</span><span class="o">.</span><span class="n">read_data</span>
    <span class="n">comp</span><span class="o">.</span><span class="n">read_strobe</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">fifobus_empty</span>
    <span class="n">comp</span><span class="o">.</span><span class="n">validity_check</span> <span class="o">=</span> <span class="n">fifobus</span><span class="o">.</span><span class="n">read_valid</span>

<span class="nd">@always_comb</span>
<span class="k">def</span> <span class="nf">sync_write</span><span class="p">()</span>
    <span class="n">fifobus</span><span class="o">.</span><span class="n">write_data</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">write_line</span>
    <span class="n">fifobus</span><span class="o">.</span><span class="n">write</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">write_strobe</span>

<span class="c"># ...</span>
</pre></div>
</div>
<p>and so on(look into the examples for more). Note
that the serial in/out lines are those from the UART&#8217;s
perspective.</p>
<p>Internally, the UART uses two FIFOBus interfaces for communication
between the the UART and the actual RX/TX fifos from which the data
is read.The UART has a uartlite module which instantiates the respective
FIFOs and synchronises between the external FIFOBus interface and
the interface to the two fifos.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cores/uart.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">rhea 0.1pre documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Christopher L. Felton.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>